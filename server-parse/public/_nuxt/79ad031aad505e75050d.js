(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{838:function(e,t,r){"use strict";var n=r(3),o=r(847);n.a.directive("cleave",{bind:function(e,t){var input=e.querySelector("input");input._vCleave=new o.a(input,t.value)},unbind:function(e){e.querySelector("input")._vCleave.destroy()}})},876:function(e,t,r){var content=r(912);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(87).default)("29e18119",content,!0,{sourceMap:!1})},883:function(e,t,r){"use strict";r(162),r(54),r(55),r(38),r(128),r(30);var n=r(0),o=r(70),c=(r(838),r(88));function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={props:{isCadastro:Boolean},data:function(){return{demanda:{categoria:null,nome:null,quantidadeDesejada:null,ong:null},success:!1}},computed:{ong:function(){return this.$store.state.login.usuario.ong}},methods:l({},Object(c.d)("demandas",["SET_DEMANDA"]),{},Object(c.b)("demandas",["createDemanda","updateDemanda"]),{create:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.demanda.ong=e.ong,(e.isCadastro?e.createDemanda:e.updateDemanda)(l({},e.demanda)).then((function(t){e.$buefy.toast.open({message:"Operação realizada com successo!",type:"is-success",position:"is-top"}),e.success=!0})).catch((function(t){console.log(t),t.response?400===t.response.status&&t.response.data.non_field_errors&&(t.message=t.response.data.non_field_errors[0]):t.message="Servidor desconectado",e.$buefy.toast.open({message:t.message,type:"is-danger",position:"is-bottom"})}));case 3:case"end":return t.stop()}}),t)})))()},validateBeforeSubmit:function(){var e=this;this.$validator.validateAll().then((function(t){t?e.create():e.$buefy.toast.open({message:"Formulário inválido, verifique os campos em vermelho",type:"is-danger",position:"is-bottom"})}))}}),created:function(){var e=this;this.unsubscribe=this.$store.subscribe((function(t,r){"demandas/SET_DEMANDA"===t.type&&(e.demanda=JSON.parse(JSON.stringify(r.demandas.demanda)))}))},beforeDestroy:function(){this.unsubscribe()}},m=r(29),component=Object(m.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[e.success?r("div",{staticClass:"column has-text-centered"},[r("hr"),e._v(" "),r("h1",[e._v("Demanda cadastrada com successo.")]),e._v(" "),r("hr"),e._v(" "),r("div",{staticClass:"column has-text-centered"},[r("button",{staticClass:"button is-primary is-outlined is-medium is-rounded",on:{click:function(t){e.success=!1}}},[e._v("Voltar")])])]):r("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.validateBeforeSubmit(t)}}},[r("hr"),e._v(" "),r("b-field",{attrs:{label:"Título",type:{"is-danger":e.errors.has("titulo")},message:e.errors.first("titulo")}},[r("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"text",name:"titulo"},model:{value:e.demanda.nome,callback:function(t){e.$set(e.demanda,"nome","string"==typeof t?t.trim():t)},expression:"demanda.nome"}})],1),e._v(" "),r("b-field",{attrs:{label:"Categoria",type:{"is-danger":e.errors.has("categoria")},message:e.errors.first("categoria")}},[r("b-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{placeholder:"Selecione uma categoria",name:"categoria"},model:{value:e.demanda.categoria,callback:function(t){e.$set(e.demanda,"categoria",t)},expression:"demanda.categoria"}},[r("option",{domProps:{value:"Alimentos"}},[e._v("Alimentos")]),e._v(" "),r("option",{domProps:{value:"Roupas"}},[e._v("Roupas")]),e._v(" "),r("option",{domProps:{value:"Utilitários"}},[e._v("Utilitários")])])],1),e._v(" "),r("b-field",{attrs:{label:"Quantidade",type:{"is-danger":e.errors.has("quantidade")},message:e.errors.first("quantidade")}},[r("b-numberinput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"quantidade",min:"1"},model:{value:e.demanda.quantidadeDesejada,callback:function(t){e.$set(e.demanda,"quantidadeDesejada",e._n(t))},expression:"demanda.quantidadeDesejada"}})],1),e._v(" "),r("hr"),e._v(" "),r("button",{staticClass:"button is-primary is-outlined is-medium is-rounded is-fullwidth",attrs:{type:"submit"}},[e._v("Confirmar")])],1)])}),[],!1,null,null,null);t.a=component.exports},911:function(e,t,r){"use strict";var n=r(876);r.n(n).a},912:function(e,t,r){(t=r(86)(!1)).push([e.i,".page-enter-active[data-v-75870e80],.page-leave-active[data-v-75870e80]{transition:opacity .3s ease}.page-enter[data-v-75870e80],.page-leave-to[data-v-75870e80]{opacity:0}.is-degrade-primary[data-v-75870e80]{background:linear-gradient(-87deg,rgba(26,188,156,.8),rgba(46,204,113,.8))}a[data-v-75870e80]{color:#20c090}h1[data-v-75870e80]{padding-top:1.5em}h1.is-primary[data-v-75870e80]{color:#20c090}h1.is-centered[data-v-75870e80]{text-align:center}.form-section-title[data-v-75870e80]{text-align:center;font-weight:700;font-size:1.2em}.button.is-primary[data-v-75870e80]{background-color:#20c090}.button.is-primary.is-outlined[data-v-75870e80]{background-color:transparent;border-color:#20c090;color:#20c090}.button.is-primary.is-outlined.is-focused[data-v-75870e80],.button.is-primary.is-outlined.is-hovered[data-v-75870e80],.button.is-primary.is-outlined[data-v-75870e80]:focus,.button.is-primary.is-outlined[data-v-75870e80]:hover{background-color:#20c090;border-color:#20c090;color:#fff}.navbar-link.is-active[data-v-75870e80],.navbar-link[data-v-75870e80]:focus,.navbar-link[data-v-75870e80]:hover,.navbar-link[focus-within][data-v-75870e80],a.navbar-item.is-active[data-v-75870e80],a.navbar-item[data-v-75870e80]:focus,a.navbar-item[data-v-75870e80]:hover,a.navbar-item[focus-within][data-v-75870e80]{color:#20c090}.navbar-link.is-active[data-v-75870e80],.navbar-link[data-v-75870e80]:focus,.navbar-link[data-v-75870e80]:focus-within,.navbar-link[data-v-75870e80]:hover,a.navbar-item.is-active[data-v-75870e80],a.navbar-item[data-v-75870e80]:focus,a.navbar-item[data-v-75870e80]:focus-within,a.navbar-item[data-v-75870e80]:hover{color:#20c090}.tag:not(body).is-primary[data-v-75870e80]{background-color:#20c090}.has-text-primary[data-v-75870e80]{color:#20c090!important}.menu-list a.is-active[data-v-75870e80]{background-color:#20c090}.button.is-primary.is-hovered[data-v-75870e80],.button.is-primary[data-v-75870e80]:hover{background-color:#20a0a0}.button:not(.is-outlined).is-primary.is-active[data-v-75870e80],.button:not(.is-outlined).is-primary[data-v-75870e80]:active{background-color:#20c090}.button.is-primary[disabled][data-v-75870e80],fieldset[disabled] .button.is-primary[data-v-75870e80]{background-color:#108080}.pagination-link.is-current[data-v-75870e80]{background-color:#20c090;border-color:#20c090}.pagination-link[data-v-75870e80]:focus,.pagination-next[data-v-75870e80]:focus,.pagination-previous[data-v-75870e80]:focus{border-color:#20c090}.has-background-primary[data-v-75870e80]{background-color:#20c090!important}.tabs.is-toggle li.is-active a[data-v-75870e80]{background-color:#20c090;border-color:#20c090}.input[data-v-75870e80]:active,.input[data-v-75870e80]:focus,.is-active.input[data-v-75870e80],.is-active.textarea[data-v-75870e80],.is-focused.input[data-v-75870e80],.is-focused.textarea[data-v-75870e80],.select select.is-active[data-v-75870e80],.select select.is-focused[data-v-75870e80],.select select[data-v-75870e80]:active,.select select[data-v-75870e80]:focus,.taginput .is-active.taginput-container.is-focusable[data-v-75870e80],.taginput .is-focused.taginput-container.is-focusable[data-v-75870e80],.taginput .taginput-container.is-focusable[data-v-75870e80]:active,.taginput .taginput-container.is-focusable[data-v-75870e80]:focus,.textarea[data-v-75870e80]:active,.textarea[data-v-75870e80]:focus{border-color:#20c090;box-shadow:0 0 0 .125em rgba(82,164,137,.25)}.hero-body[data-v-75870e80]{padding-top:1em!important}.has-margin[data-v-75870e80]{margin:10px}",""]),e.exports=t},928:function(e,t,r){"use strict";r.r(t);r(162),r(54),r(55),r(38),r(128);var n=r(70),o=r(88),c=r(883),d=r(266);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={layout:"default",components:{CadastroDemandaForm:c.a,MenuLateral:d.a},methods:v({},Object(o.b)("demandas",{fetchDemanda:"fetchDemanda"})),computed:v({},Object(o.c)({demanda:"demandas/demanda"})),mounted:function(){this.fetchDemanda(this.$route.params.id)}},f=(r(911),r(29)),component=Object(f.a)(m,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"columns has-margin is-fullheight"},[t("MenuLateral"),this._v(" "),t("section",{staticClass:"column is-main-content hero is-medium is-bold"},[t("div",{staticClass:"hero-body"},[t("div",{staticClass:"container"},[t("div",{staticClass:"columns has-no-margin is-centered"},[t("article",{staticClass:"card is-rounded",staticStyle:{width:"300px"}},[t("div",{staticClass:"card-content"},[t("p",{staticClass:"form-section-title"},[this._v("Cadastre uma demanda")]),this._v(" "),t("CadastroDemandaForm",{attrs:{demanda:this.demanda,isCadastro:!1}})],1)])])])])])],1)}),[],!1,null,"75870e80",null);t.default=component.exports}}]);