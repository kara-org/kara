(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{845:function(e,t,o){var content=o(867);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(87).default)("78477a72",content,!0,{sourceMap:!1})},846:function(e,t,o){"use strict";o(162),o(54),o(55),o(38),o(128),o(30);var r=o(0),n=o(70),c=o(88);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={props:{text:{type:String,required:!0},item:{type:Object},idOng:{type:String}},data:function(){return{isComponentModalActive:!1,quantidade:1}},computed:l({},Object(c.c)({carrinhoVazio:"carrinho/isEmpty"})),methods:l({},Object(c.c)({itensOng:"busca/demandasPorOng"}),{},Object(c.b)("carrinho",["fetchOng","fetchItens","adicionarItemNoCarrinho","alterarItemNoCarrinho"]),{},Object(c.b)("doacoes",["confirmaItemDoacao","fetchDoacoesOng"]),{confirmado:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Confirmar"!==e.text){t.next=4;break}e.confirmaItemDoacao({objectId:e.item.objectId,quantidadeEfetivada:e.quantidade}).then((function(t){e.fetchDoacoesOng(e.idOng)})),t.next=14;break;case 4:if("Editar"!==e.text){t.next=8;break}e.alterarItemNoCarrinho({demanda:e.item,quantidadePrometida:e.quantidade}),t.next=14;break;case 8:return t.next=10,e.fetchOng(e.item.ong.objectId);case 10:return t.next=12,e.fetchItens(e.itensOng()(e.item.ong.objectId));case 12:e.adicionarItemNoCarrinho({demanda:e.item,quantidadePrometida:e.quantidade}),e.carrinhoVazio&&e.$router.push("/carrinho");case 14:e.isComponentModalActive=!1;case 15:case"end":return t.stop()}}),t)})))()}})},m=o(29),component=Object(m.a)(v,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",["Confirmar"===e.text?o("b-tooltip",{staticClass:"is-success",attrs:{label:"Confirmar doação",position:"is-right"}},[o("b-button",{staticClass:"is-success is-outlined is-small",on:{click:function(t){e.isComponentModalActive=!0}}},[o("b-icon",{attrs:{icon:"check"}})],1)],1):o("button",{staticClass:"button is-primary is-medium",on:{click:function(t){e.isComponentModalActive=!0}}},[e._v(e._s(e.text))]),e._v(" "),o("b-modal",{attrs:{active:e.isComponentModalActive,"has-modal-card":""},on:{"update:active":function(t){e.isComponentModalActive=t}}},[o("form",{attrs:{action:""}},[o("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[e._v("Item Doação")])]),e._v(" "),o("section",{staticClass:"modal-card-body"},[o("b-numberinput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"quantidade",min:"1"},model:{value:e.quantidade,callback:function(t){e.quantidade=e._n(t)},expression:"quantidade"}})],1),e._v(" "),o("footer",{staticClass:"modal-card-foot"},[o("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){e.isComponentModalActive=!1}}},[e._v("Cancelar")]),e._v(" "),o("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:e.confirmado}},[e._v("Confirmar")])])])])])],1)}),[],!1,null,null,null);t.a=component.exports},866:function(e,t,o){"use strict";var r=o(845);o.n(r).a},867:function(e,t,o){(t=o(86)(!1)).push([e.i,".page-enter-active[data-v-4ee51e99],.page-leave-active[data-v-4ee51e99]{transition:opacity .3s ease}.page-enter[data-v-4ee51e99],.page-leave-to[data-v-4ee51e99]{opacity:0}.is-degrade-primary[data-v-4ee51e99]{background:linear-gradient(-87deg,rgba(26,188,156,.8),rgba(46,204,113,.8))}a[data-v-4ee51e99]{color:#20c090}h1[data-v-4ee51e99]{padding-top:1.5em}h1.is-primary[data-v-4ee51e99]{color:#20c090}h1.is-centered[data-v-4ee51e99]{text-align:center}.form-section-title[data-v-4ee51e99]{text-align:center;font-weight:700;font-size:1.2em}.button.is-primary[data-v-4ee51e99]{background-color:#20c090}.button.is-primary.is-outlined[data-v-4ee51e99]{background-color:transparent;border-color:#20c090;color:#20c090}.button.is-primary.is-outlined.is-focused[data-v-4ee51e99],.button.is-primary.is-outlined.is-hovered[data-v-4ee51e99],.button.is-primary.is-outlined[data-v-4ee51e99]:focus,.button.is-primary.is-outlined[data-v-4ee51e99]:hover{background-color:#20c090;border-color:#20c090;color:#fff}.navbar-link.is-active[data-v-4ee51e99],.navbar-link[data-v-4ee51e99]:focus,.navbar-link[data-v-4ee51e99]:hover,.navbar-link[focus-within][data-v-4ee51e99],a.navbar-item.is-active[data-v-4ee51e99],a.navbar-item[data-v-4ee51e99]:focus,a.navbar-item[data-v-4ee51e99]:hover,a.navbar-item[focus-within][data-v-4ee51e99]{color:#20c090}.navbar-link.is-active[data-v-4ee51e99],.navbar-link[data-v-4ee51e99]:focus,.navbar-link[data-v-4ee51e99]:focus-within,.navbar-link[data-v-4ee51e99]:hover,a.navbar-item.is-active[data-v-4ee51e99],a.navbar-item[data-v-4ee51e99]:focus,a.navbar-item[data-v-4ee51e99]:focus-within,a.navbar-item[data-v-4ee51e99]:hover{color:#20c090}.tag:not(body).is-primary[data-v-4ee51e99]{background-color:#20c090}.has-text-primary[data-v-4ee51e99]{color:#20c090!important}.menu-list a.is-active[data-v-4ee51e99]{background-color:#20c090}.button.is-primary.is-hovered[data-v-4ee51e99],.button.is-primary[data-v-4ee51e99]:hover{background-color:#20a0a0}.button:not(.is-outlined).is-primary.is-active[data-v-4ee51e99],.button:not(.is-outlined).is-primary[data-v-4ee51e99]:active{background-color:#20c090}.button.is-primary[disabled][data-v-4ee51e99],fieldset[disabled] .button.is-primary[data-v-4ee51e99]{background-color:#108080}.pagination-link.is-current[data-v-4ee51e99]{background-color:#20c090;border-color:#20c090}.pagination-link[data-v-4ee51e99]:focus,.pagination-next[data-v-4ee51e99]:focus,.pagination-previous[data-v-4ee51e99]:focus{border-color:#20c090}.has-background-primary[data-v-4ee51e99]{background-color:#20c090!important}.tabs.is-toggle li.is-active a[data-v-4ee51e99]{background-color:#20c090;border-color:#20c090}.input[data-v-4ee51e99]:active,.input[data-v-4ee51e99]:focus,.is-active.input[data-v-4ee51e99],.is-active.textarea[data-v-4ee51e99],.is-focused.input[data-v-4ee51e99],.is-focused.textarea[data-v-4ee51e99],.select select.is-active[data-v-4ee51e99],.select select.is-focused[data-v-4ee51e99],.select select[data-v-4ee51e99]:active,.select select[data-v-4ee51e99]:focus,.taginput .is-active.taginput-container.is-focusable[data-v-4ee51e99],.taginput .is-focused.taginput-container.is-focusable[data-v-4ee51e99],.taginput .taginput-container.is-focusable[data-v-4ee51e99]:active,.taginput .taginput-container.is-focusable[data-v-4ee51e99]:focus,.textarea[data-v-4ee51e99]:active,.textarea[data-v-4ee51e99]:focus{border-color:#20c090;box-shadow:0 0 0 .125em rgba(82,164,137,.25)}.modal-card-body[data-v-4ee51e99]{text-align:left;text-align:initial}",""]),e.exports=t},873:function(e,t,o){var content=o(906);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(87).default)("606208b0",content,!0,{sourceMap:!1})},878:function(e,t,o){"use strict";o(162),o(54),o(55),o(38),o(128),o(30);var r=o(0),n=o(70),c=o(846),d=o(88);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}var v={props:{doacao:Object},data:function(){return{isComponentModalActive:!1,quantidade:1}},computed:{user:function(){return this.$store.state.login.usuario}},mounted:function(){this.quantidade=this.doacao.quantidadePrometida},methods:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(d.b)("doacoes",["changeItemDoacao","fetchDoacoesDoador"]),{confirm:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.quantidade&&e.quantidade>0)){t.next=5;break}return t.next=3,e.changeItemDoacao({objectId:e.doacao.objectId,quantidadePrometida:e.quantidade});case 3:return t.next=5,e.fetchDoacoesDoador(e.user.objectId);case 5:e.isComponentModalActive=!1;case 6:case"end":return t.stop()}}),t)})))()}})},m=(o(866),o(29));function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y={components:{EditarModal:Object(m.a)(v,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",[o("b-tooltip",{staticClass:"is-success",attrs:{label:"Editar doação",position:"is-right"}},[o("b-button",{staticClass:"is-outlined is-success is-small",on:{click:function(t){e.isComponentModalActive=!0}}},[o("b-icon",{attrs:{icon:"settings"}})],1)],1),e._v(" "),o("b-modal",{attrs:{active:e.isComponentModalActive,"has-modal-card":""},on:{"update:active":function(t){e.isComponentModalActive=t}}},[o("form",{attrs:{action:""}},[o("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[e._v("Edição de Doação")])]),e._v(" "),o("section",{staticClass:"modal-card-body"},[o("b-field",{attrs:{label:"Quantidade"}},[o("b-numberinput",{attrs:{name:"quantidade",required:""},model:{value:e.quantidade,callback:function(t){e.quantidade=e._n(t)},expression:"quantidade"}})],1)],1),e._v(" "),o("footer",{staticClass:"modal-card-foot"},[o("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){e.isComponentModalActive=!1}}},[e._v("Cancelar")]),e._v(" "),o("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:e.confirm}},[e._v("Confirmar")])])])])])],1)}),[],!1,null,"4ee51e99",null).exports,DoarModal:c.a},props:{isDoador:Boolean},computed:h({user:function(){return this.$store.state.login.usuario}},Object(d.c)({doacoes:"doacoes/doacoes"})),asyncData:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.isDoador?e.fetchDoacoesDoador(e.user.objectId):e.fetchDoacoesOng(e.user.ong.objectId);case 1:case"end":return t.stop()}}),t)})))()},methods:h({getStatusDoacao:function(e){console.log(this.doacoes);var t="CANCELADA";return e.forEach((function(e){if(e.entregue&&(t="ENTREGUE"),!e.cancelado&&!e.entregue)return t="PENDENTE"})),t},getTagStatusDoacao:function(e){switch(e){case"PENDENTE":return"tag";case"CANCELADA":return"tag is-danger";default:return"tag is-success"}}},Object(d.b)("doacoes",["fetchDoacoesDoador","fetchDoacoesOng","changeItemDoacao","deleteItemDoacao","confirmaItemDoacao"]),{toggle:function(e){this.$refs.table.toggleDetails(e)},prettyDate:function(e){return(e=new Date(e)).getDate()+"/"+e.getMonth()+"/"+e.getFullYear()},cancell:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:t.$buefy.dialog.confirm({message:"Tem certeza que deseja cancelar este item?",confirmText:"Sim",cancelText:"Não",onConfirm:function(){var o=Object(r.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.deleteItemDoacao(e);case 2:if(!t.isDoador){o.next=7;break}return o.next=5,t.fetchDoacoesDoador(t.user.objectId);case 5:o.next=9;break;case 7:return o.next=9,t.fetchDoacoesOng(t.user.ong.objectId);case 9:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}()});case 1:case"end":return o.stop()}}),o)})))()}}),data:function(){return{columnsVisible:{demanda:{title:"Demanda",display:!0},efetivado:{title:"Efetivado",display:!0},prometido:{title:"Prometido",display:!0},doador:{title:"Doador",display:!this.isDoador},ong:{title:"ONG",display:!!this.isDoador},data:{title:"Estado",display:!0},acao:{title:"Ação",display:!0}}}}},O=Object(m.a)(y,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("b-table",{ref:"table",attrs:{data:e.doacoes,paginated:!0,"per-page":5,"show-detail-icon":!0,"pagination-position":"bottom","detail-key":"objectId",detailed:""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("b-table-column",{attrs:{field:"objectId",label:"ID Doação",centered:""}},[e._v(e._s(t.row.objectId))]),e._v(" "),e.isDoador?o("b-table-column",{attrs:{field:"ong",label:"ONG",centered:""}},[o("span",[e._v(e._s(t.row.ong.nome))])]):o("b-table-column",{attrs:{field:"doador",visible:e.columnsVisible.doador.display,label:e.columnsVisible.doador.title,centered:""}},[e._v(e._s(t.row.user.nome))]),e._v(" "),o("b-table-column",{attrs:{field:"data",visible:e.columnsVisible.data.display,label:e.columnsVisible.data.title,centered:""}},[o("span",{class:e.getTagStatusDoacao(e.getStatusDoacao(t.row.demandas))},[e._v(e._s(e.getStatusDoacao(t.row.demandas)))])])]}},{key:"detail",fn:function(t){return[o("b-table",{attrs:{data:t.row.demandas},scopedSlots:e._u([{key:"default",fn:function(t){return[o("b-table-column",{attrs:{field:"demanda",visible:e.columnsVisible.demanda.display,label:e.columnsVisible.demanda.title,centered:""}},[e._v(e._s(t.row.demanda.nome))]),e._v(" "),o("b-table-column",{attrs:{field:"prometido",visible:e.columnsVisible.prometido.display,label:e.columnsVisible.prometido.title,centered:""}},[e._v(e._s(t.row.quantidadePrometida))]),e._v(" "),o("b-table-column",{attrs:{field:"efetivado",visible:e.columnsVisible.efetivado.display,label:e.columnsVisible.efetivado.title,centered:""}},[e._v(e._s(t.row.quantidadeEfetivada?t.row.quantidadeEfetivada:0))]),e._v(" "),o("b-table-column",{attrs:{field:"acao",visible:e.columnsVisible.acao.display,label:e.columnsVisible.acao.title,centered:""}},[t.row.entregue?o("span",{staticClass:"tag is-success"},[e._v("ENTREGUE")]):t.row.cancelado?o("span",{staticClass:"tag is-danger"},[e._v("CANCELADA")]):[e.isDoador?o("EditarModal",{attrs:{doacao:t.row}}):e._e(),e._v(" "),o("b-tooltip",{staticClass:"is-danger",attrs:{label:"Cancelar doação",position:"is-right"}},[o("b-button",{staticClass:"is-danger is-outlined is-small",on:{click:function(o){return e.cancell(t.row.objectId)}}},[o("b-icon",{attrs:{icon:"cancel"}})],1)],1),e._v(" "),e.isDoador?e._e():o("b-tooltip",{staticClass:"is-success",attrs:{label:"Confirmar doação",position:"is-right"}},[o("DoarModal",{attrs:{text:"Confirmar",idOng:t.row.demanda.ong.objectId,item:t.row}})],1)]],2)]}}],null,!0)})]}}])})],1)}),[],!1,null,"c5e76778",null);t.a=O.exports},905:function(e,t,o){"use strict";var r=o(873);o.n(r).a},906:function(e,t,o){(t=o(86)(!1)).push([e.i,".page-enter-active[data-v-3081e682],.page-leave-active[data-v-3081e682]{transition:opacity .3s ease}.page-enter[data-v-3081e682],.page-leave-to[data-v-3081e682]{opacity:0}.is-degrade-primary[data-v-3081e682]{background:linear-gradient(-87deg,rgba(26,188,156,.8),rgba(46,204,113,.8))}a[data-v-3081e682]{color:#20c090}h1[data-v-3081e682]{padding-top:1.5em}h1.is-primary[data-v-3081e682]{color:#20c090}h1.is-centered[data-v-3081e682]{text-align:center}.form-section-title[data-v-3081e682]{text-align:center;font-weight:700;font-size:1.2em}.button.is-primary[data-v-3081e682]{background-color:#20c090}.button.is-primary.is-outlined[data-v-3081e682]{background-color:transparent;border-color:#20c090;color:#20c090}.button.is-primary.is-outlined.is-focused[data-v-3081e682],.button.is-primary.is-outlined.is-hovered[data-v-3081e682],.button.is-primary.is-outlined[data-v-3081e682]:focus,.button.is-primary.is-outlined[data-v-3081e682]:hover{background-color:#20c090;border-color:#20c090;color:#fff}.navbar-link.is-active[data-v-3081e682],.navbar-link[data-v-3081e682]:focus,.navbar-link[data-v-3081e682]:hover,.navbar-link[focus-within][data-v-3081e682],a.navbar-item.is-active[data-v-3081e682],a.navbar-item[data-v-3081e682]:focus,a.navbar-item[data-v-3081e682]:hover,a.navbar-item[focus-within][data-v-3081e682]{color:#20c090}.navbar-link.is-active[data-v-3081e682],.navbar-link[data-v-3081e682]:focus,.navbar-link[data-v-3081e682]:focus-within,.navbar-link[data-v-3081e682]:hover,a.navbar-item.is-active[data-v-3081e682],a.navbar-item[data-v-3081e682]:focus,a.navbar-item[data-v-3081e682]:focus-within,a.navbar-item[data-v-3081e682]:hover{color:#20c090}.tag:not(body).is-primary[data-v-3081e682]{background-color:#20c090}.has-text-primary[data-v-3081e682]{color:#20c090!important}.menu-list a.is-active[data-v-3081e682]{background-color:#20c090}.button.is-primary.is-hovered[data-v-3081e682],.button.is-primary[data-v-3081e682]:hover{background-color:#20a0a0}.button:not(.is-outlined).is-primary.is-active[data-v-3081e682],.button:not(.is-outlined).is-primary[data-v-3081e682]:active{background-color:#20c090}.button.is-primary[disabled][data-v-3081e682],fieldset[disabled] .button.is-primary[data-v-3081e682]{background-color:#108080}.pagination-link.is-current[data-v-3081e682]{background-color:#20c090;border-color:#20c090}.pagination-link[data-v-3081e682]:focus,.pagination-next[data-v-3081e682]:focus,.pagination-previous[data-v-3081e682]:focus{border-color:#20c090}.has-background-primary[data-v-3081e682]{background-color:#20c090!important}.tabs.is-toggle li.is-active a[data-v-3081e682]{background-color:#20c090;border-color:#20c090}.input[data-v-3081e682]:active,.input[data-v-3081e682]:focus,.is-active.input[data-v-3081e682],.is-active.textarea[data-v-3081e682],.is-focused.input[data-v-3081e682],.is-focused.textarea[data-v-3081e682],.select select.is-active[data-v-3081e682],.select select.is-focused[data-v-3081e682],.select select[data-v-3081e682]:active,.select select[data-v-3081e682]:focus,.taginput .is-active.taginput-container.is-focusable[data-v-3081e682],.taginput .is-focused.taginput-container.is-focusable[data-v-3081e682],.taginput .taginput-container.is-focusable[data-v-3081e682]:active,.taginput .taginput-container.is-focusable[data-v-3081e682]:focus,.textarea[data-v-3081e682]:active,.textarea[data-v-3081e682]:focus{border-color:#20c090;box-shadow:0 0 0 .125em rgba(82,164,137,.25)}.hero-body[data-v-3081e682]{padding-top:1em!important}.columns div[data-v-3081e682]{margin:10px!important}",""]),e.exports=t},929:function(e,t,o){"use strict";o.r(t);var r=o(878),n=o(266),c={layout:"default",components:{ListaDoacoes:r.a,MenuLateral:n.a}},d=(o(905),o(29)),component=Object(d.a)(c,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"columns is-fullheight"},[t("MenuLateral",{attrs:{isDoador:!1}}),this._v(" "),t("section",{staticClass:"column is-main-content hero is-medium is-bold"},[t("div",{staticClass:"hero-body"},[t("div",{staticClass:"container"},[t("div",{staticClass:"columns is-centered"},[t("article",{staticClass:"card is-rounded",staticStyle:{width:"800px"}},[t("div",{staticClass:"card-content"},[t("p",{staticClass:"form-section-title"},[this._v("Doações da ONG")]),this._v(" "),t("hr"),this._v(" "),t("ListaDoacoes",{attrs:{isDoador:!1}})],1)])])])])])],1)}),[],!1,null,"3081e682",null);t.default=component.exports}}]);