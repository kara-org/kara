(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{675:function(t,e,o){"use strict";var n=o(21),r=o(72),c=o(92),d=o(319),l=o(167),v=o(46),f=o(131).f,m=o(168).f,h=o(40).f,y=o(676).trim,_=n.Number,O=_,C=_.prototype,w="Number"==c(o(216)(C)),k="trim"in String.prototype,x=function(t){var e=l(t,!1);if("string"==typeof e&&e.length>2){var o,n,r,c=(e=k?e.trim():y(e,3)).charCodeAt(0);if(43===c||45===c){if(88===(o=e.charCodeAt(2))||120===o)return NaN}else if(48===c){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var code,d=e.slice(2),i=0,v=d.length;i<v;i++)if((code=d.charCodeAt(i))<48||code>r)return NaN;return parseInt(d,n)}}return+e};if(!_(" 0o1")||!_("0b1")||_("+0x1")){_=function(t){var e=arguments.length<1?0:t,o=this;return o instanceof _&&(w?v((function(){C.valueOf.call(o)})):"Number"!=c(o))?d(new O(x(e)),o,_):x(e)};for(var D,E=o(37)?f(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;E.length>N;N++)r(O,D=E[N])&&!r(_,D)&&h(_,D,m(O,D));_.prototype=C,C.constructor=_,o(47)(n,"Number",_)}},676:function(t,e,o){var n=o(32),r=o(91),c=o(46),d=o(677),l="["+d+"]",v=RegExp("^"+l+l+"*"),f=RegExp(l+l+"*$"),m=function(t,e,o){var r={},l=c((function(){return!!d[t]()||"​"!="​"[t]()})),v=r[t]=l?e(h):d[t];o&&(r[o]=v),n(n.P+n.F*l,"String",r)},h=m.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(v,"")),2&e&&(t=t.replace(f,"")),t};t.exports=m},677:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},678:function(t,e,o){"use strict";o(129),o(52),o(44),o(45),o(108);var n=o(39),r=(o(675),o(71));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(source,!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var l={props:{text:{type:String,required:!0},id:{type:Number},item:{type:Object},idOng:{type:Number}},data:function(){return{isComponentModalActive:!1,quantidade:1}},computed:d({},Object(r.c)({carrinhoVazio:"carrinho/isEmpty"})),methods:d({},Object(r.c)({itensOng:"busca/demandasPorOng"}),{},Object(r.b)("carrinho",["fetchOng","fetchItens","adicionarItemNoCarrinho","alterarItemNoCarrinho"]),{},Object(r.b)("doacoes",["confirmaItemDoacao","fetchDoacoesOng"]),{confirmado:function(){var t=this;"Confirmar"===this.text?this.$axios.$post("/item/".concat(this.id,"/confirmar/"),{quantidade_efetivada:this.quantidade}).then((function(e){t.fetchDoacoesOng(t.idOng)})):"Editar"===this.text?this.alterarItemNoCarrinho({demanda:this.item,quantidade_prometida:this.quantidade}):(this.fetchOng(this.idOng),this.fetchItens(this.itensOng()(this.idOng)),this.adicionarItemNoCarrinho({demanda:this.item,quantidade_prometida:this.quantidade}),this.carrinhoVazio&&this.$router.push("/carrinho")),this.isComponentModalActive=!1}})},v=o(24),component=Object(v.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",["Confirmar"===t.text?o("b-tooltip",{staticClass:"is-success",attrs:{label:"Confirmar doação",position:"is-right"}},[o("b-button",{staticClass:"is-success is-outlined is-small",on:{click:function(e){t.isComponentModalActive=!0}}},[o("b-icon",{attrs:{icon:"check"}})],1)],1):o("button",{staticClass:"button is-primary is-medium",on:{click:function(e){t.isComponentModalActive=!0}}},[t._v(t._s(t.text))]),t._v(" "),o("b-modal",{attrs:{active:t.isComponentModalActive,"has-modal-card":""},on:{"update:active":function(e){t.isComponentModalActive=e}}},[o("form",{attrs:{action:""}},[o("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[t._v("Item Doação")])]),t._v(" "),o("section",{staticClass:"modal-card-body"},[o("b-numberinput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"quantidade",min:"1"},model:{value:t.quantidade,callback:function(e){t.quantidade=t._n(e)},expression:"quantidade"}})],1),t._v(" "),o("footer",{staticClass:"modal-card-foot"},[o("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.isComponentModalActive=!1}}},[t._v("Cancelar")]),t._v(" "),o("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:t.confirmado}},[t._v("Confirmar")])])])])])],1)}),[],!1,null,null,null);e.a=component.exports},698:function(t,e,o){var content=o(725);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(70).default)("4cfea509",content,!0,{sourceMap:!1})},713:function(t,e,o){"use strict";o(129),o(52),o(44),o(45),o(108),o(29);var n,r=o(2),c=o(39),d=o(678),l={props:{doacao:Object},data:function(){return{isComponentModalActive:!1,quantidade:null}},mounted:function(){this.quantidade=this.doacao.quantidade_prometida},methods:{confirm:(n=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.quantidade&&this.quantidade>0)){t.next=6;break}return t.t0=console,t.next=4,this.$axios.$patch("/item/".concat(this.doacao.id,"/"),{quantidade_prometida:this.quantidade});case 4:t.t1=t.sent,t.t0.log.call(t.t0,t.t1);case 6:this.isComponentModalActive=!1;case 7:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}},v=(o(724),o(24)),f=Object(v.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",[o("b-tooltip",{staticClass:"is-success",attrs:{label:"Editar doação",position:"is-right"}},[o("b-button",{staticClass:"is-outlined is-success is-small",on:{click:function(e){t.isComponentModalActive=!0}}},[o("b-icon",{attrs:{icon:"settings"}})],1)],1),t._v(" "),o("b-modal",{attrs:{active:t.isComponentModalActive,"has-modal-card":""},on:{"update:active":function(e){t.isComponentModalActive=e}}},[o("form",{attrs:{action:""}},[o("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[t._v("Edição de Doação")])]),t._v(" "),o("section",{staticClass:"modal-card-body"},[o("b-field",{attrs:{label:"Quantidade"}},[o("b-input",{attrs:{type:"number",placeholder:"Quantidade a doar",required:""},model:{value:t.quantidade,callback:function(e){t.quantidade=e},expression:"quantidade"}})],1)],1),t._v(" "),o("footer",{staticClass:"modal-card-foot"},[o("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.isComponentModalActive=!1}}},[t._v("Cancelar")]),t._v(" "),o("button",{staticClass:"button is-primary",on:{click:function(e){return t.confirm()}}},[t._v("Confirmar")])])])])])],1)}),[],!1,null,"ba1e13ac",null).exports,m=o(71);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(source,!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _,O={components:{EditarModal:f,DoarModal:d.a},props:{isDoador:Boolean},computed:y({user:function(){return this.$store.state.login.usuario}},Object(m.c)({doacoes:"doacoes/doacoes"})),mounted:(_=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isDoador){t.next=5;break}return t.next=3,this.fetchDoacoesDoador(this.user.id);case 3:t.next=7;break;case 5:return t.next=7,this.fetchDoacoesOng(this.user.ong.id);case 7:case"end":return t.stop()}}),t,this)}))),function(){return _.apply(this,arguments)}),methods:y({isDoacaoPendente:function(t){for(var e=0;e<t.length;e++)if(1===t[e].status.codigo_status)return!0;return!1},isDoacaoCancelada:function(t){for(var e=0;e<t.length;e++)if(2!==t[e].status.codigo_status)return!1;return!0}},Object(m.b)("doacoes",["fetchDoacoesDoador","fetchDoacoesOng","changeItemDoacao","deleteItemDoacao","confirmaItemDoacao"]),{toggle:function(t){this.$refs.table.toggleDetails(t)},prettyDate:function(t){return(t=new Date(t)).getDate()+"/"+t.getMonth()+"/"+t.getFullYear()},confirm:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e,o){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.$buefy.dialog.confirm({message:"Tem certeza que deseja ".concat(o," essa doação?"),confirmText:"Sim",cancelText:"Não",onConfirm:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("cancelar"!=o){t.next=12;break}return t.next=3,n.deleteItemDoacao(e);case 3:if(!n.isDoador){t.next=8;break}return t.next=6,n.fetchDoacoesOng(n.user.ong.id);case 6:t.next=10;break;case 8:return t.next=10,n.fetchDoacoesDoador(n.user.id);case 10:t.next=14;break;case 12:return t.next=14,n.confirmaItemDoacao(e);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});case 1:case"end":return t.stop()}}),t,this)})));return function(e,o){return t.apply(this,arguments)}}()}),data:function(){return{columnsVisible:{demanda:{title:"Demanda",display:!0},efetivado:{title:"Efetivado",display:!0},prometido:{title:"Prometido",display:!0},doador:{title:"Doador",display:!this.isDoador},ong:{title:"ONG",display:!!this.isDoador},data:{title:"Estado",display:!0},acao:{title:"Ação",display:!0}}}}},C=Object(v.a)(O,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("b-table",{ref:"table",attrs:{data:t.doacoes,paginated:!0,"per-page":5,"show-detail-icon":!0,"pagination-position":"bottom","detail-key":"id",detailed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[o("b-table-column",{attrs:{field:"id",label:"ID Doação",centered:""}},[t._v(t._s(e.row.id))]),t._v(" "),t.isDoador?o("b-table-column",{attrs:{field:"ong",label:"ONG",centered:""}},[o("span",[t._v(t._s(e&&e.row.item_doacao[0]&&e.row.item_doacao[0].demanda.ong.nome))])]):o("b-table-column",{attrs:{field:"doador",visible:t.columnsVisible.doador.display,label:t.columnsVisible.doador.title,centered:""}},[t._v(t._s(e.row.usuario.nome_completo))]),t._v(" "),o("b-table-column",{attrs:{field:"data",visible:t.columnsVisible.data.display,label:t.columnsVisible.data.title,centered:""}},[t.isDoacaoPendente(e.row.item_doacao)?o("span",{staticClass:"tag"},[t._v("PENDENTE")]):t.isDoacaoCancelada(e.row.item_doacao)?o("span",{staticClass:"tag is-danger"},[t._v("CANCELADA")]):o("span",{staticClass:"tag is-success"},[t._v("ENTREGUE")])])]}},{key:"detail",fn:function(e){return[o("b-table",{attrs:{data:e.row.item_doacao},scopedSlots:t._u([{key:"default",fn:function(e){return[o("b-table-column",{attrs:{field:"demanda",visible:t.columnsVisible.demanda.display,label:t.columnsVisible.demanda.title,centered:""}},[t._v(t._s(e.row.demanda.descricao))]),t._v(" "),o("b-table-column",{attrs:{field:"prometido",visible:t.columnsVisible.prometido.display,label:t.columnsVisible.prometido.title,centered:""}},[t._v(t._s(e.row.quantidade_prometida))]),t._v(" "),o("b-table-column",{attrs:{field:"efetivado",visible:t.columnsVisible.efetivado.display,label:t.columnsVisible.efetivado.title,centered:""}},[t._v(t._s(e.row.quantidade_efetivada?e.row.quantidade_efetivada:0))]),t._v(" "),o("b-table-column",{attrs:{field:"acao",visible:t.columnsVisible.acao.display,label:t.columnsVisible.acao.title,centered:""}},[1===e.row.status.codigo_status?[t.isDoador?o("EditarModal",{attrs:{doacao:e.row}}):t._e(),t._v(" "),o("b-tooltip",{staticClass:"is-danger",attrs:{label:"Cancelar doação",position:"is-right"}},[o("b-button",{staticClass:"is-danger is-outlined is-small",on:{click:function(o){return t.confirm(e.row.id,"cancelar")}}},[o("b-icon",{attrs:{icon:"cancel"}})],1)],1),t._v(" "),t.isDoador?t._e():o("b-tooltip",{staticClass:"is-success",attrs:{label:"Confirmar doação",position:"is-right"}},[o("DoarModal",{attrs:{text:"Confirmar",id:e.row.id,item:e.row}})],1)]:3===e.row.status.codigo_status?o("span",{staticClass:"tag is-success"},[t._v("ENTREGUE")]):o("span",{staticClass:"tag is-danger"},[t._v("CANCELADA")])],2)]}}],null,!0)})]}}])})],1)}),[],!1,null,"620b194a",null);e.a=C.exports},724:function(t,e,o){"use strict";var n=o(698);o.n(n).a},725:function(t,e,o){(t.exports=o(69)(!1)).push([t.i,".page-enter-active[data-v-ba1e13ac],.page-leave-active[data-v-ba1e13ac]{-webkit-transition:opacity .3s ease;transition:opacity .3s ease}.page-enter[data-v-ba1e13ac],.page-leave-to[data-v-ba1e13ac]{opacity:0}.is-degrade-primary[data-v-ba1e13ac]{background:linear-gradient(-87deg,rgba(26,188,156,.8),rgba(46,204,113,.8))}a[data-v-ba1e13ac]{color:#20c090}h1[data-v-ba1e13ac]{padding-top:1.5em}h1.is-primary[data-v-ba1e13ac]{color:#20c090}h1.is-centered[data-v-ba1e13ac]{text-align:center}.form-section-title[data-v-ba1e13ac]{text-align:center;font-weight:700;font-size:1.2em}.button.is-primary[data-v-ba1e13ac]{background-color:#20c090}.button.is-primary.is-outlined[data-v-ba1e13ac]{background-color:transparent;border-color:#20c090;color:#20c090}.button.is-primary.is-outlined.is-focused[data-v-ba1e13ac],.button.is-primary.is-outlined.is-hovered[data-v-ba1e13ac],.button.is-primary.is-outlined[data-v-ba1e13ac]:focus,.button.is-primary.is-outlined[data-v-ba1e13ac]:hover{background-color:#20c090;border-color:#20c090;color:#fff}.navbar-link.is-active[data-v-ba1e13ac],.navbar-link[data-v-ba1e13ac]:focus,.navbar-link[data-v-ba1e13ac]:hover,.navbar-link[focus-within][data-v-ba1e13ac],a.navbar-item.is-active[data-v-ba1e13ac],a.navbar-item[data-v-ba1e13ac]:focus,a.navbar-item[data-v-ba1e13ac]:hover,a.navbar-item[focus-within][data-v-ba1e13ac]{color:#20c090}.navbar-link.is-active[data-v-ba1e13ac],.navbar-link[data-v-ba1e13ac]:focus,.navbar-link[data-v-ba1e13ac]:focus-within,.navbar-link[data-v-ba1e13ac]:hover,a.navbar-item.is-active[data-v-ba1e13ac],a.navbar-item[data-v-ba1e13ac]:focus,a.navbar-item[data-v-ba1e13ac]:focus-within,a.navbar-item[data-v-ba1e13ac]:hover{color:#20c090}.tag:not(body).is-primary[data-v-ba1e13ac]{background-color:#20c090}.has-text-primary[data-v-ba1e13ac]{color:#20c090!important}.menu-list a.is-active[data-v-ba1e13ac]{background-color:#20c090}.button.is-primary.is-hovered[data-v-ba1e13ac],.button.is-primary[data-v-ba1e13ac]:hover{background-color:#20a0a0}.button:not(.is-outlined).is-primary.is-active[data-v-ba1e13ac],.button:not(.is-outlined).is-primary[data-v-ba1e13ac]:active{background-color:#20c090}.button.is-primary[disabled][data-v-ba1e13ac],fieldset[disabled] .button.is-primary[data-v-ba1e13ac]{background-color:#108080}.pagination-link.is-current[data-v-ba1e13ac]{background-color:#20c090;border-color:#20c090}.pagination-link[data-v-ba1e13ac]:focus,.pagination-next[data-v-ba1e13ac]:focus,.pagination-previous[data-v-ba1e13ac]:focus{border-color:#20c090}.has-background-primary[data-v-ba1e13ac]{background-color:#20c090!important}.tabs.is-toggle li.is-active a[data-v-ba1e13ac]{background-color:#20c090;border-color:#20c090}.input[data-v-ba1e13ac]:active,.input[data-v-ba1e13ac]:focus,.is-active.input[data-v-ba1e13ac],.is-active.textarea[data-v-ba1e13ac],.is-focused.input[data-v-ba1e13ac],.is-focused.textarea[data-v-ba1e13ac],.select select.is-active[data-v-ba1e13ac],.select select.is-focused[data-v-ba1e13ac],.select select[data-v-ba1e13ac]:active,.select select[data-v-ba1e13ac]:focus,.taginput .is-active.taginput-container.is-focusable[data-v-ba1e13ac],.taginput .is-focused.taginput-container.is-focusable[data-v-ba1e13ac],.taginput .taginput-container.is-focusable[data-v-ba1e13ac]:active,.taginput .taginput-container.is-focusable[data-v-ba1e13ac]:focus,.textarea[data-v-ba1e13ac]:active,.textarea[data-v-ba1e13ac]:focus{border-color:#20c090;box-shadow:0 0 0 .125em rgba(82,164,137,.25)}.modal-card-body[data-v-ba1e13ac]{text-align:left;text-align:initial}",""])}}]);